let e,t,n;const o=document.querySelector("[data-bird]");let r=Number.POSITIVE_INFINITY;function i(e){o.style.setProperty("--bird-top",e)}function d(){return parseFloat(getComputedStyle(o).getPropertyValue("--bird-top"))}function l(e){"Space"===e.code&&(r=0)}let s=[];function u(e){let t=document.createElement("div");return t.classList.add("segment",e),t}document.addEventListener("keypress",p,{once:!0});const c=document.querySelector("[data-title]"),a=document.querySelector("[data-subtitle]");function m(l){if(null==n){n=l,window.requestAnimationFrame(m);return}let f=l-n;if(r<125?i(d()-.5*f):i(d()+.5*f),r+=f,(e+=f)>1500&&(e-=1500,function(){let e=document.createElement("div"),t=u("top"),n=u("bottom");e.append(t),e.append(n),e.classList.add("pipe"),e.style.setProperty("--hole-top",Math.floor(Math.random()*(window.innerHeight-90-270+1)+270));let o={get left(){return parseFloat(getComputedStyle(e).getPropertyValue("--pipe-left"))},set left(value){e.style.setProperty("--pipe-left",value)},remove(){s=s.filter(e=>e!==o),e.remove()},rects:()=>[t.getBoundingClientRect(),n.getBoundingClientRect()]};o.left=window.innerWidth,document.body.append(e),s.push(o)}()),s.forEach(e=>{if(e.left+120<0)return t++,e.remove();e.left=e.left-.75*f}),function(){let e=o.getBoundingClientRect(),t=s.flatMap(e=>e.rects()).some(t=>e.left<t.right&&e.top<t.bottom&&e.right>t.left&&e.bottom>t.top);return e.top<0||e.bottom>window.innerHeight||t}())return void setTimeout(()=>{c.classList.remove("hide"),a.classList.remove("hide"),a.textContent=`${t} Pipes`,document.addEventListener("keypress",p,{once:!0})},100);n=l,window.requestAnimationFrame(m)}function p(){c.classList.add("hide"),i(window.innerHeight/2),document.removeEventListener("keydown",l),document.addEventListener("keydown",l),document.documentElement.style.setProperty("--pipe-width",120),document.documentElement.style.setProperty("--hole-height",180),s.forEach(e=>e.remove()),e=1500,t=0,n=null,window.requestAnimationFrame(m)}
//# sourceMappingURL=index.80097104.js.map
